<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ECLIPSE — Portada animada</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <header class="topbar">
    <a class="brand" href="index.html">ECLIPSE</a>

    <nav class="nav">
      <a href="index.html" class="active">Inicio</a>
      <a href="info.html">Información y recursos</a>
      <a href="#faq">FAQ</a>
      <a href="#contacto">Contacto</a>
    </nav>
  </header>

  <main class="container">
    <section class="hero">
      <div class="hero-left">
        <h1>Portada animada en p5.js</h1>
        <p>
          Una interpretación visual del eclipse solar: cobertura calculada con <code>dist()</code> y <code>map()</code>,
          atmósfera orgánica con <code>noise()</code>, y trayectoria ondulatoria con <code>sin()</code>.
        </p>

        <div class="hero-actions">
          <a class="btn" href="info.html">Ver contenido</a>
          <button class="btn ghost" id="toggleTextBtn" type="button">Alternar texto (N)</button>
        </div>

        <p class="hint">
          Tip: Pulsa <strong>N</strong> dentro del canvas para mostrar/ocultar texto.
        </p>
      </div>

      <div class="hero-right">
        <!-- Aquí se inyecta el canvas de p5 -->
        <div id="sketch-holder" class="sketch-frame" aria-label="Portada animada"></div>

        <div class="credit">
          Imagen base: Pixabay (autor: kesie91). Tipografía: Roboto.
        </div>
      </div>
    </section>

    <section id="faq" class="section">
      <h2>FAQ</h2>
      <details>
        <summary>¿Qué estoy viendo?</summary>
        <p>
          La luna cruza de izquierda a derecha con movimiento ondulatorio. La “cobertura” del eclipse se calcula a partir
          de la distancia entre sol y luna; ese valor controla el oscurecimiento, la corona y la atmósfera.
        </p>
      </details>

      <details>
        <summary>¿Cómo funciona la atmósfera?</summary>
        <p>
          Se generan partículas con <code>noise()</code> para obtener movimiento suave y orgánico. La cantidad e intensidad
          aumentan cuando el eclipse es más fuerte.
        </p>
      </details>

      <details>
        <summary>¿Puedo usar esto en Netlify?</summary>
        <p>
          Sí. Solo sube todos los archivos al repositorio y despliega el proyecto. Netlify detecta el <code>index.html</code> automáticamente.
        </p>
      </details>
    </section>

    <section id="contacto" class="section">
      <h2>Contacto</h2>
      <p>Contenido ficticio para demo:</p>
      <form class="form" onsubmit="event.preventDefault(); alert('Mensaje enviado (demo)');">
        <label>
          Nombre
          <input required type="text" placeholder="Tu nombre" />
        </label>

        <label>
          Email
          <input required type="email" placeholder="tu@email.com" />
        </label>

        <label>
          Mensaje
          <textarea required rows="4" placeholder="Escribe aquí…"></textarea>
        </label>

        <button class="btn" type="submit">Enviar</button>
      </form>
    </section>
  </main>

  <footer class="footer">
    <span>© 2025 — Demo web (contenido ficticio)</span>
  </footer>

  <!-- p5 local -->
  <script src="p5.min.js"></script>

  <!-- Tu sketch (debe existir tal cual) -->
  <script src="sketch.js"></script>

  <!-- Helper para el botón (simula pulsar N) -->
  <script>
    const btn = document.getElementById("toggleTextBtn");
    btn.addEventListener("click", () => {
      // Disparamos un evento de teclado “N” para reutilizar tu keyPressed()
      const e = new KeyboardEvent("keydown", { key: "N" });
      window.dispatchEvent(e);
    });
  </script>
</body>
</html>
